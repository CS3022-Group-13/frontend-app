{"version":3,"sources":["webpack:///./src/views/AddComplaint.vue?2027","webpack:///./src/components/user/ComplaintForm.vue?643e","webpack:///src/components/user/ComplaintForm.vue","webpack:///./src/components/user/ComplaintForm.vue?1bff","webpack:///./src/components/user/ComplaintForm.vue","webpack:///src/views/AddComplaint.vue","webpack:///./src/views/AddComplaint.vue?1741","webpack:///./src/views/AddComplaint.vue","webpack:///./src/components/complaint/new/CustomerDetails.vue?1921","webpack:///src/components/complaint/new/CustomerDetails.vue","webpack:///./src/components/complaint/new/CustomerDetails.vue?d2c4","webpack:///./src/components/complaint/new/CustomerDetails.vue","webpack:///./node_modules/vuetify/lib/components/VStepper/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","staticRenderFns","model","value","callback","$$v","stepCount","expression","_v","on","submitStep1","submitStep2","name","components","CustomerDetails","data","loading","userData","methods","Object","assign","_","status","api","user","register","code","console","log","component","VContainer","VDivider","VStepper","VStepperContent","VStepperHeader","VStepperItems","VStepperStep","ComplaintForm","HomeButton","VApp","VMain","ref","$event","preventDefault","submit","valid","actionIcon","rules","nic","loadingCustomer","checkCustomer","customerData","$set","noneEmpty","alreadyExists","divisions","gnOffices","_s","submitButtonText","cancel","customerId","fullName","email","telephone","address","divisionalOffice","gnOffice","s","length","computed","$store","getters","$refs","form","validate","$emit","customer","addCustomer","$notify","message","getCustomer","k","watch","VBtn","VCol","VForm","VRow","VSelect","VTextField"],"mappings":"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","file":"js/complaint.7743760b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-main',{staticClass:\"bg2\"},[_c('v-container',{staticClass:\"fill-height\",staticStyle:{\"padding-left\":\"25%\",\"padding-right\":\"25%\"},attrs:{\"fluid\":\"\"}},[_c('ComplaintForm')],1)],1),_c('HomeButton')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"elevation-4  pa-0 white\"},[_c('v-stepper',{model:{value:(_vm.stepCount),callback:function ($$v) {_vm.stepCount=$$v},expression:\"stepCount\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"complete\":_vm.stepCount > 1,\"step\":\"1\"}},[_vm._v(\"Customer Details\")]),_c('v-divider'),_c('v-stepper-step',{attrs:{\"complete\":_vm.stepCount > 2,\"step\":\"2\"}},[_vm._v(\"Complaint Details\")]),_c('v-divider'),_c('v-stepper-step',{attrs:{\"step\":\"3\"}},[_vm._v(\"Upload Evidences\")])],1),_c('v-stepper-items',[_c('v-stepper-content',{staticClass:\"pa-10\",attrs:{\"step\":\"1\"}},[_c('CustomerDetails',{on:{\"submit\":_vm.submitStep1}})],1),_c('v-stepper-content',{staticClass:\"pa-10\",attrs:{\"step\":\"2\"}},[_c('CustomerDetails',{on:{\"submit\":_vm.submitStep2}})],1),_c('v-stepper-content',{staticClass:\"pa-10\",attrs:{\"step\":\"3\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container\n      class=\"elevation-4  pa-0 white\">\n    <v-stepper v-model=\"stepCount\">\n      <v-stepper-header>\n        <v-stepper-step :complete=\"stepCount > 1\" step=\"1\">Customer Details</v-stepper-step>\n\n        <v-divider></v-divider>\n\n        <v-stepper-step :complete=\"stepCount > 2\" step=\"2\">Complaint Details</v-stepper-step>\n\n        <v-divider></v-divider>\n\n        <v-stepper-step step=\"3\">Upload Evidences</v-stepper-step>\n      </v-stepper-header>\n\n      <v-stepper-items>\n        <v-stepper-content step=\"1\" class=\"pa-10\">\n            <CustomerDetails @submit=\"submitStep1\" />\n        </v-stepper-content>\n\n        <v-stepper-content step=\"2\" class=\"pa-10\">\n          <CustomerDetails @submit=\"submitStep2\" />\n        </v-stepper-content>\n\n        <v-stepper-content step=\"3\" class=\"pa-10\">\n\n        </v-stepper-content>\n      </v-stepper-items>\n    </v-stepper>\n  </v-container>\n</template>\n\n<script>\nimport {api} from \"../../api\";\nimport CustomerDetails from \"../complaint/new/CustomerDetails.vue\";\n\n\nexport default {\n  name: \"ComplaintForm\",\n  components: {\n    CustomerDetails\n  },\n  data: () => ({\n    stepCount: 1,\n    loading:false,\n    userData: {}\n  }),\n  methods: {\n    async submitStep1(data) {\n      Object.assign(this.userData, data)\n      this.stepCount = 2\n    },\n\n    async submitStep2(data) {\n      Object.assign(this.userData, data)\n      this.loading = true\n      const [_, status] = await api.user.register(this.userData)\n      if (status.code !== 200) {\n        console.log('Registration Failed')\n        return\n      }\n      this.loading = false\n      this.stepCount = 3\n    }\n  },\n\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComplaintForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComplaintForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComplaintForm.vue?vue&type=template&id=2de59206&\"\nimport script from \"./ComplaintForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ComplaintForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VStepper } from 'vuetify/lib/components/VStepper';\nimport { VStepperContent } from 'vuetify/lib/components/VStepper';\nimport { VStepperHeader } from 'vuetify/lib/components/VStepper';\nimport { VStepperItems } from 'vuetify/lib/components/VStepper';\nimport { VStepperStep } from 'vuetify/lib/components/VStepper';\ninstallComponents(component, {VContainer,VDivider,VStepper,VStepperContent,VStepperHeader,VStepperItems,VStepperStep})\n","<template>\n  <v-app>\n    <v-main class=\"bg2\">\n      <v-container\n          fluid\n          class=\"fill-height\"\n          style=\"padding-left: 25%; padding-right: 25%\"\n      >\n        <ComplaintForm />\n      </v-container>\n\n    </v-main>\n\n    <HomeButton />\n\n  </v-app>\n</template>\n\n<script>\n\n\nimport HomeButton from \"../components/home/HomeButton\";\nimport ComplaintForm from \"../components/user/ComplaintForm\";\n\nexport default {\n  name: \"AddComplaint\",\n  components: {\n    ComplaintForm,\n    HomeButton,\n  }\n}\n</script>\n\n<style scoped>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddComplaint.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddComplaint.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddComplaint.vue?vue&type=template&id=6195e066&scoped=true&\"\nimport script from \"./AddComplaint.vue?vue&type=script&lang=js&\"\nexport * from \"./AddComplaint.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6195e066\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VApp,VContainer,VMain})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submit($event)}},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',{staticStyle:{\"display\":\"flex\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"NIC\",\"required\":\"\",\"prepend-icon\":\"mdi-card-account-details\",\"append-icon\":_vm.actionIcon,\"rules\":_vm.rules.nic,\"loading\":_vm.loadingCustomer},on:{\"click:append\":_vm.checkCustomer},model:{value:(_vm.customerData.nic),callback:function ($$v) {_vm.$set(_vm.customerData, \"nic\", $$v)},expression:\"customerData.nic\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Full name\",\"prepend-icon\":\"mdi-rename-box\",\"required\":\"\",\"rules\":_vm.rules.noneEmpty,\"disabled\":_vm.alreadyExists},model:{value:(_vm.customerData.fullName),callback:function ($$v) {_vm.$set(_vm.customerData, \"fullName\", $$v)},expression:\"customerData.fullName\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Email\",\"required\":\"\",\"prepend-icon\":\"mdi-email\",\"rules\":_vm.rules.noneEmpty,\"disabled\":_vm.alreadyExists},model:{value:(_vm.customerData.email),callback:function ($$v) {_vm.$set(_vm.customerData, \"email\", $$v)},expression:\"customerData.email\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Telephone\",\"required\":\"\",\"prepend-icon\":\"mdi-phone\",\"rules\":_vm.rules.noneEmpty,\"disabled\":_vm.alreadyExists},model:{value:(_vm.customerData.telephone),callback:function ($$v) {_vm.$set(_vm.customerData, \"telephone\", $$v)},expression:\"customerData.telephone\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Address\",\"required\":\"\",\"prepend-icon\":\"mdi-map-marker\",\"rules\":_vm.rules.noneEmpty,\"disabled\":_vm.alreadyExists},model:{value:(_vm.customerData.address),callback:function ($$v) {_vm.$set(_vm.customerData, \"address\", $$v)},expression:\"customerData.address\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-select',{attrs:{\"label\":\"Divisional Secretariat\",\"items\":_vm.divisions,\"prepend-icon\":\"mdi-office-building-marker\",\"required\":\"\",\"rules\":_vm.rules.noneEmpty,\"disabled\":_vm.alreadyExists},model:{value:(_vm.customerData.divisionalOffice),callback:function ($$v) {_vm.$set(_vm.customerData, \"divisionalOffice\", $$v)},expression:\"customerData.divisionalOffice\"}})],1),_c('v-col',[_c('v-select',{attrs:{\"prepend-icon\":\"mdi-home-account\",\"label\":\"GN Office\",\"required\":\"\",\"items\":_vm.gnOffices,\"rules\":_vm.rules.noneEmpty,\"disabled\":_vm.alreadyExists},model:{value:(_vm.customerData.gnOffice),callback:function ($$v) {_vm.$set(_vm.customerData, \"gnOffice\", $$v)},expression:\"customerData.gnOffice\"}})],1)],1),_c('v-divider'),_c('v-row',{staticClass:\"mt-5\"},[_c('v-btn',{staticClass:\"ma-1\",attrs:{\"color\":\"success\",\"type\":\"submit\",\"width\":\"100\",\"loading\":_vm.loading,\"disabled\":!_vm.valid}},[_vm._v(\" \"+_vm._s(_vm.submitButtonText)+\" \")]),_c('v-btn',{staticClass:\"ma-1\",attrs:{\"text\":\"\",\"width\":\"100\",\"color\":\"secondary\"},on:{\"click\":_vm.cancel}},[_vm._v(\" Cancel \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-form v-model=\"valid\" ref=\"form\" @submit.prevent=\"submit\">\n\n    <v-row style=\"display: flex;\">\n      <v-col\n              cols=\"12\"\n              md=\"6\"\n      >\n        <v-text-field\n                label=\"NIC\"\n                required\n                prepend-icon=\"mdi-card-account-details\"\n                :append-icon=\"actionIcon\"\n                @click:append=\"checkCustomer\"\n                v-model=\"customerData.nic\"\n                :rules=\"rules.nic\"\n                :loading=\"loadingCustomer\"\n        ></v-text-field>\n      </v-col>\n    </v-row>\n\n    <v-row>\n      <v-col>\n        <v-text-field\n                v-model=\"customerData.fullName\"\n                label=\"Full name\"\n                prepend-icon=\"mdi-rename-box\"\n                required\n                :rules=\"rules.noneEmpty\"\n                :disabled=\"alreadyExists\"\n        ></v-text-field>\n      </v-col>\n    </v-row>\n\n    <v-row>\n      <v-col\n              cols=\"12\"\n              md=\"6\"\n      >\n        <v-text-field\n                v-model=\"customerData.email\"\n                label=\"Email\"\n                required\n                prepend-icon=\"mdi-email\"\n                :rules=\"rules.noneEmpty\"\n                :disabled=\"alreadyExists\"\n        ></v-text-field>\n      </v-col>\n      <v-col\n              cols=\"12\"\n              md=\"6\"\n      >\n        <v-text-field\n                v-model=\"customerData.telephone\"\n                label=\"Telephone\"\n                required\n                prepend-icon=\"mdi-phone\"\n                :rules=\"rules.noneEmpty\"\n                :disabled=\"alreadyExists\"\n        ></v-text-field>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col>\n        <v-text-field\n                v-model=\"customerData.address\"\n                label=\"Address\"\n                required\n                prepend-icon=\"mdi-map-marker\"\n                :rules=\"rules.noneEmpty\"\n                :disabled=\"alreadyExists\"\n        ></v-text-field>\n      </v-col>\n    </v-row>\n\n    <v-row>\n      <v-col>\n        <v-select\n                v-model=\"customerData.divisionalOffice\"\n                label=\"Divisional Secretariat\"\n                :items=\"divisions\"\n                prepend-icon=\"mdi-office-building-marker\"\n                required\n                :rules=\"rules.noneEmpty\"\n                :disabled=\"alreadyExists\"\n        ></v-select>\n\n      </v-col>\n      <v-col>\n        <v-select\n                prepend-icon=\"mdi-home-account\"\n                label=\"GN Office\"\n                required\n                :items=\"gnOffices\"\n                v-model=\"customerData.gnOffice\"\n                :rules=\"rules.noneEmpty\"\n                :disabled=\"alreadyExists\"\n        ></v-select>\n      </v-col>\n    </v-row>\n\n    <v-divider />\n    <v-row class=\"mt-5\">\n\n      <v-btn\n              color=\"success\"\n              class=\"ma-1\"\n              type=\"submit\"\n              width=\"100\"\n              :loading=\"loading\"\n              :disabled=\"!valid\"\n      >\n        {{submitButtonText}}\n      </v-btn>\n\n      <v-btn\n              text\n              width=\"100\"\n              color=\"secondary\"\n              class=\"ma-1\"\n              @click=\"cancel\"\n      >\n        Cancel\n      </v-btn>\n\n    </v-row>\n  </v-form>\n</template>\n\n<script>\nimport {api} from \"../../../api\";\n\nexport default {\n    name: \"CustomerDetails\",\n    data: () => ({\n        valid: false,\n        loading: false,\n        loadingCustomer: false,\n        alreadyExists: false,\n\n        customerData: {\n            customerId: '',\n            fullName: '',\n            nic: '',\n            email: '',\n            telephone: '',\n            address: '',\n            divisionalOffice: '',\n            gnOffice: '',\n        },\n\n        rules: {\n            nic: [\n                s => s.length >= 10 || \"Too short NIC number\",\n                // s => s.toLowerCase().includes('v') || \"Invalid NIC number\"\n            ],\n            noneEmpty: [\n                s => s.length > 0 || \"Too short\"\n            ]\n        }\n    }),\n    computed: {\n        divisions() {\n            return this.$store.getters[\"utils/getNameOnly_Divisions\"]\n        },\n        gnOffices() {\n            return this.$store.getters[\"utils/getNameOnly_GnOffices\"]\n        },\n        actionIcon() {\n            if (this.loadingCustomer) {\n                return 'mdi-spin mdi-chart-donut'\n            } else {\n                return 'mdi-checkbox-marked-circle-outline'\n            }\n        },\n        submitButtonText() {\n            if (this.customerData.customerId === '')\n                return 'Save'\n            return 'Use'\n        }\n    },\n    methods: {\n        async submit() {\n            await this.$refs.form.validate();\n            if (this.valid) {\n                this.loading = true\n                if (this.alreadyExists) {\n                    this.$emit('submit', this.customerData.customerId);\n                    return\n                }\n                delete this.customerData.customerId\n                const [customerId, status] = await api.customer.addCustomer(this.customerData)\n                if (status.code !== 200) {\n                    this.$notify(status.message, 'error')\n                    this.loading = false\n                    return\n                }\n                this.$emit('submit', customerId);\n                this.loading = false\n                this.$notify('Customer Details are saved', 'success')\n            }\n        },\n        cancel() {\n            this.$emit('cancel')\n        },\n        async checkCustomer() {\n            this.loadingCustomer = true\n            const [data, status] = await api.customer.getCustomer({nic: this.customerData.nic})\n            if (status.code !== 200) {\n                this.$notify(status.message, 'error')\n                this.loadingCustomer = false\n                return;\n            }\n            if (data.length > 0) {\n                this.alreadyExists = true\n                Object.assign(this.customerData, data[0])\n                console.log('found')\n            } else if (this.alreadyExists) {\n                this.alreadyExists = false\n                for (let k in this.customerData) {\n                    if (k === 'nic') continue\n                    this.customerData[k] = ''\n                }\n            }\n            this.loadingCustomer = false\n        }\n    },\n    watch: {\n        async 'customerData.nic'() {\n            if (this.customerData.nic.length > 9) {\n                await this.checkCustomer()\n            }\n        }\n    }\n}\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerDetails.vue?vue&type=template&id=294e51fc&\"\nimport script from \"./CustomerDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerDetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VDivider,VForm,VRow,VSelect,VTextField})\n","import { createSimpleFunctional } from '../../util/helpers';\nimport VStepper from './VStepper';\nimport VStepperStep from './VStepperStep';\nimport VStepperContent from './VStepperContent';\nconst VStepperHeader = createSimpleFunctional('v-stepper__header');\nconst VStepperItems = createSimpleFunctional('v-stepper__items');\nexport { VStepper, VStepperContent, VStepperStep, VStepperHeader, VStepperItems };\nexport default {\n  $_vuetify_subcomponents: {\n    VStepper,\n    VStepperContent,\n    VStepperStep,\n    VStepperHeader,\n    VStepperItems\n  }\n};\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}